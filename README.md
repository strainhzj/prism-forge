# PrismForge - Claude Code Session Manager & Prompt Optimizer

> **Claude Code ä¼šè¯æ–‡ä»¶ç®¡ç†ä¸æç¤ºè¯ä¼˜åŒ–å·¥å…·** | ä¸“ä¸º Claude Code ç”¨æˆ·è®¾è®¡çš„æ¡Œé¢åº”ç”¨

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Tauri](https://img.shields.io/badge/Tauri-2.0-FFC131?logo=tauri)](https://tauri.app/)
[![React](https://img.shields.io/badge/React-18.3-61DAFB?logo=react)](https://react.dev/)

## ä»€ä¹ˆæ˜¯ PrismForgeï¼Ÿ

PrismForge æ˜¯ä¸€æ¬¾ä¸“ä¸º **Claude Code** ç”¨æˆ·è®¾è®¡çš„ä¼šè¯ç®¡ç†æ¡Œé¢åº”ç”¨ã€‚å½“ä½ ä½¿ç”¨ **Claude Code** è¿›è¡Œå¼€å‘æ—¶ï¼Œå¦‚æœå¯¹å¦‚ä½•å®ç°ç›®æ ‡æœ‰ç–‘é—®ï¼ŒPrismForge å¯ä»¥ï¼š

1. è¯»å–å®Œæ•´çš„ **Claude Code** ä¼šè¯æ–‡ä»¶ï¼ˆ`.jsonl`ï¼‰
2. åˆ†æä½ çš„é¡¹ç›®ä¸Šä¸‹æ–‡å’Œä¼šè¯å†å²
3. ç»“åˆä½ çš„ç›®æ ‡æè¿°ï¼Œæ™ºèƒ½ç”Ÿæˆä¼˜åŒ–åçš„æç¤ºè¯
4. å¸®åŠ©ä½ æ›´é«˜æ•ˆåœ°ä½¿ç”¨ **Claude Code** å®Œæˆå¤æ‚ä»»åŠ¡

## ä¸ºä»€ä¹ˆéœ€è¦ PrismForgeï¼Ÿ

**Claude Code** æ˜¯ Anthropic æä¾›çš„å¼ºå¤§ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œä½†å®é™…ä½¿ç”¨ä¸­å¸¸é‡åˆ°è¿™äº›é—®é¢˜ï¼š

- **è¡¨è¾¾å›°éš¾**ï¼šæœ‰æ˜ç¡®ç›®æ ‡ï¼Œä½†ä¸æ¸…æ¥šå¦‚ä½•å‘ **Claude Code** æ¸…æ¥šæè¿°éœ€æ±‚
- **æç¤ºè¯ä¼˜åŒ–**ï¼šä¸çŸ¥é“å¦‚ä½•æ ¹æ®é¡¹ç›®ä¸Šä¸‹æ–‡ä¼˜åŒ–æç¤ºè¯

PrismForge ä¸“ä¸º **Claude Code** ç”¨æˆ·è§£å†³è¿™äº›ç—›ç‚¹ã€‚

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. æç¤ºè¯æ™ºèƒ½ç”Ÿæˆï¼ˆPrompt Optimizerï¼‰

åŸºäº **Claude Code** ä¼šè¯å†å²å’Œé¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–æç¤ºè¯ï¼š

- è¯»å– **Claude Code** ä¼šè¯æ–‡ä»¶çš„å®Œæ•´å†å²è®°å½•
- åˆ†æé¡¹ç›®ä»£ç ç»“æ„å’Œå·²æœ‰å¯¹è¯
- ç»“åˆä½ çš„ç›®æ ‡æè¿°è¾“å…¥
- ç”Ÿæˆé€‚åˆå½“å‰åœºæ™¯çš„ä¼˜åŒ–æç¤ºè¯
- æ”¯æŒå¤šå‚å•† LLM API

**ä½¿ç”¨åœºæ™¯**ï¼šå½“ä½ æœ‰å¼€å‘ç›®æ ‡ä½†ä¸çŸ¥é“å¦‚ä½•å‘ **Claude Code** è¡¨è¾¾æ—¶ã€‚

### 2. ä¼šè¯å†å²ç®¡ç†ï¼ˆSession Managerï¼‰

ç»Ÿä¸€ç®¡ç†æœ¬åœ°æ‰€æœ‰é¡¹ç›®çš„ **Claude Code** ä¼šè¯ï¼š

- è‡ªåŠ¨å‘ç°æœ¬åœ°é¡¹ç›®çš„ **Claude Code** ä¼šè¯æ–‡ä»¶
- ç»Ÿä¸€æŸ¥çœ‹æ‰€æœ‰é¡¹ç›®çš„ä¼šè¯è®°å½•
- æŒ‰é¡¹ç›®ã€æ—¶é—´ç­›é€‰ä¼šè¯å†å²
- å¿«é€Ÿæµè§ˆä¼šè¯å†…å®¹

### 3. ä¼šè¯æ–‡ä»¶åˆ‡æ¢ï¼ˆSession Switcherï¼‰

çµæ´»åˆ‡æ¢ä¸åŒé¡¹ç›®çš„ **Claude Code** ä¼šè¯ä¸Šä¸‹æ–‡ï¼š

- é»˜è®¤è‡ªåŠ¨è·Ÿè¸ªæœ€æ–°é¡¹ç›®çš„ **Claude Code** ä¼šè¯æ–‡ä»¶
- æ”¯æŒæ‰‹åŠ¨åˆ‡æ¢åˆ°ä»»æ„å†å²ä¼šè¯æ–‡ä»¶
- å¿«é€Ÿåœ¨ä¸åŒé¡¹ç›®çš„ä¼šè¯ä¸Šä¸‹æ–‡é—´åˆ‡æ¢

---

## ç‰¹æ€§äº®ç‚¹

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ

- **åŒè¯­ç•Œé¢**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢åˆ‡æ¢
- **å®æ—¶åˆ‡æ¢**ï¼šæ— éœ€é‡å¯åº”ç”¨ï¼Œå³æ—¶åˆ‡æ¢è¯­è¨€
- **æ‰©å±•æ€§å¼º**ï¼šåŸºäº `react-i18next`ï¼Œæ˜“äºæ·»åŠ æ–°è¯­è¨€
- **ç¿»è¯‘æ–‡ä»¶**ï¼šä½äº `src/i18n/locales/{zh,en}/`
  - `common.json` - é€šç”¨æ–‡æœ¬ï¼ˆæŒ‰é’®ã€æ ‡ç­¾ç­‰ï¼‰
  - `settings.json` - è®¾ç½®é¡µé¢ï¼ˆè¡¨å•ã€éªŒè¯ã€ä¾›åº”å•†ç±»å‹ï¼‰
  - `sessions.json` - ä¼šè¯ç®¡ç†é¡µé¢
  - `navigation.json` - å¯¼èˆªèœå•
  - `index.json` - é¦–é¡µï¼ˆé¡¹ç›®åˆ‡æ¢å™¨ã€æ—¶é—´çº¿ï¼‰

### ğŸ¨ æš—è‰²/äº®è‰²ä¸»é¢˜

- **åŒä¸»é¢˜æ¨¡å¼**ï¼šæ”¯æŒæš—è‰²å’Œäº®è‰²ä¸¤ç§ä¸»é¢˜
- **è‡ªåŠ¨æ£€æµ‹**ï¼šæ ¹æ®ç³»ç»Ÿä¸»é¢˜åå¥½è‡ªåŠ¨åˆ‡æ¢
- **æ‰‹åŠ¨åˆ‡æ¢**ï¼šç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨åˆ‡æ¢ä¸»é¢˜
- **å…¨é¢é€‚é…**ï¼šæ‰€æœ‰ç»„ä»¶å‡å·²é€‚é…ä¸¤ç§ä¸»é¢˜

**ä¸»é¢˜å®ç°ï¼š**
- ä½¿ç”¨ Tailwind `dark:` å‰ç¼€é€‚é…ä¸»é¢˜
- é€šè¿‡ CSS å˜é‡å®šä¹‰ä¸»é¢˜é¢œè‰²ï¼ˆ`src/index.css`ï¼‰
- ä¸»é¢˜çŠ¶æ€é€šè¿‡ `useThemeStore` ç®¡ç†

### ğŸ” å®‰å…¨çš„ API Key ç®¡ç†

- **å¤šå‚å•†æ”¯æŒ**ï¼šæ”¯æŒ OpenAIã€Anthropicã€Ollamaã€xAI
- **å®‰å…¨å­˜å‚¨**ï¼šä½¿ç”¨æ“ä½œç³»ç»Ÿå‡­æ®ç®¡ç†å™¨å­˜å‚¨ API Key
  - **Windows**: Credential Manager
  - **macOS**: Keychain
  - **Linux**: Secret Service (libsecret)
- **å¯†é’¥éš”ç¦»**ï¼šæ•°æ®åº“ä»…ä¿ç•™å¯†é’¥å¼•ç”¨ï¼Œä¸å­˜å‚¨æ˜æ–‡
- **æ©ç æ˜¾ç¤º**ï¼šç•Œé¢æ˜¾ç¤ºæ©ç åçš„å¯†é’¥ï¼ˆå¦‚ `sk-xxxx1234`ï¼‰
- **éªŒè¯æµ‹è¯•**ï¼šæ”¯æŒè¿æ¥æµ‹è¯•ï¼ŒéªŒè¯ API Key æœ‰æ•ˆæ€§

### ğŸ“ æ™ºèƒ½ä¼šè¯è§£æ

- **ç»Ÿä¸€è§£ææœåŠ¡**ï¼š`SessionParserService` æä¾›ç»Ÿä¸€çš„ä¼šè¯æ–‡ä»¶è§£ææ¥å£
- **æ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ Claude Code çš„ JSONL ä¼šè¯æ–‡ä»¶æ ¼å¼
- **æ¶ˆæ¯è½¬æ¢**ï¼šå°† `JsonlEntry` è½¬æ¢ä¸ºç»“æ„åŒ–çš„ `Message` å¯¹è±¡
- **å†…å®¹è¿‡æ»¤**ï¼šåº”ç”¨ `FilterConfigManager` è§„åˆ™è¿‡æ»¤ä¸éœ€è¦çš„å†…å®¹
- **è§†å›¾ç­‰çº§**ï¼šæ”¯æŒå¤šç§è§†å›¾ç­‰çº§è¿‡æ»¤ï¼ˆFullã€QAPairsã€Summaryï¼‰

### âš¡ TypeScript ç±»å‹åŒæ­¥

- **è‡ªåŠ¨ç”Ÿæˆ**ï¼šä½¿ç”¨ `ts-rs` ä» Rust ç»“æ„ä½“è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹
- **ç±»å‹å®‰å…¨**ï¼šå‰åç«¯å…±äº«ç±»å‹å®šä¹‰ï¼Œå‡å°‘ç±»å‹é”™è¯¯
- **å®æ—¶åŒæ­¥**ï¼šä¿®æ”¹ Rust ç»“æ„ä½“åé‡æ–°è¿è¡Œç”Ÿæˆå‘½ä»¤å³å¯
- **å‘½åçº¦å®š**ï¼šè‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°å‘½åï¼ˆcamelCaseï¼‰

### ğŸ”„ å¤šå‚å•† LLM é€‚é…å™¨

- **ç»Ÿä¸€æ¥å£**ï¼šé€šè¿‡ `LLMService` trait æŠ½è±¡ä¸åŒå‚å•† API
- **å·¥å‚æ¨¡å¼**ï¼š`LLMClientManager::create_client_from_provider()` åŠ¨æ€åˆ›å»ºå®¢æˆ·ç«¯
- **æ˜“äºæ‰©å±•**ï¼šæ·»åŠ æ–°å‚å•†åªéœ€å®ç° trait å¹¶æ›´æ–°å·¥å‚æ–¹æ³•
- **æµå¼æ”¯æŒ**ï¼šæ”¯æŒæµå¼å“åº”ï¼Œå®æ—¶æ˜¾ç¤ºç”Ÿæˆå†…å®¹

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯ (React + TypeScript)
- **React 18.3** + **React DOM 18.3** - UI æ¡†æ¶
- **Vite 7.0** - æ„å»ºå·¥å…·
- **React Router 6.30** - è·¯ç”±ç®¡ç†
- **Zustand 5.0** + **Immer** - çŠ¶æ€ç®¡ç†
- **React Hook Form 7.69** - è¡¨å•ç®¡ç†
- **React i18next** - å›½é™…åŒ–ï¼ˆä¸­è‹±æ–‡åˆ‡æ¢ï¼‰
- **@tanstack/react-query** - æ•°æ®è·å–å’Œç¼“å­˜
- **@heroicons/react** - å›¾æ ‡åº“
- **Tailwind CSS** - æ ·å¼æ¡†æ¶ï¼ˆæ”¯æŒæš—è‰²/äº®è‰²ä¸»é¢˜ï¼‰

### åç«¯ (Rust + Tauri 2)
- **Tauri 2.0** - æ¡Œé¢åº”ç”¨æ¡†æ¶
- **reqwest 0.12** - HTTP å®¢æˆ·ç«¯ï¼ˆæ”¯æŒæµå¼ä¼ è¾“ï¼‰
- **rusqlite 0.32** - SQLite æ•°æ®åº“
- **keyring 3.0** - è·¨å¹³å°å®‰å…¨å­˜å‚¨ï¼ˆAPI Key ç®¡ç†ï¼‰
- **secrecy 0.10** - æ•æ„Ÿæ•°æ®ä¿æŠ¤
- **async-openai 0.25** - OpenAI SDK
- **ts-rs 0.1** - TypeScript ç±»å‹ç”Ÿæˆ
- **serde / serde_json** - åºåˆ—åŒ–

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Rust å·¥å…·é“¾ï¼ˆ[å®‰è£…æŒ‡å—](https://www.rust-lang.org/tools/install)ï¼‰
- npm / pnpm / yarn

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run tauri dev
```

### ç”Ÿäº§æ„å»º

```bash
npm run tauri build
```

---

## æ•°æ®å­˜å‚¨

### ä¼šè¯æ•°æ®åº“ä½ç½®

- **Windows**:
  ```
  %APPDATA%\prism-forge\prism-forge.db
  å®Œæ•´è·¯å¾„ç¤ºä¾‹ï¼šC:\Users\ç”¨æˆ·å\AppData\Roaming\prism-forge\prism-forge.db
  ```

- **macOS**: `~/Library/Application Support/prism-forge/prism-forge.db`

- **Linux**: `~/.config/prism-forge/prism-forge.db`

### è°ƒè¯•æŠ€å·§

**æŸ¥çœ‹æ•°æ®åº“å†…å®¹ï¼š**
- ä½¿ç”¨ SQLite å®¢æˆ·ç«¯ï¼ˆå¦‚ [DB Browser for SQLite](https://sqlitebrowser.org/)ï¼‰æ‰“å¼€æ•°æ®åº“æ–‡ä»¶
- æŸ¥çœ‹è¡¨ç»“æ„ï¼š`SELECT * FROM sqlite_master;`
- æŸ¥çœ‹æ•°æ®ï¼š`SELECT * FROM api_providers;`

**é‡ç½®æ•°æ®åº“ï¼š**
```bash
# åˆ é™¤æ•°æ®åº“æ–‡ä»¶åé‡å¯åº”ç”¨ä¼šè‡ªåŠ¨é‡æ–°åˆ›å»º
# Windows
del %APPDATA%\prism-forge\prism-forge.db

# macOS/Linux
rm ~/.config/prism-forge/prism-forge.db
```

**Schema ä¿®æ”¹ï¼š**
- ä¿®æ”¹ Schema æ—¶éœ€è¦åˆ é™¤æ—§æ•°æ®åº“æˆ–ç¼–å†™è¿ç§»é€»è¾‘
- è¿ç§»æ–‡ä»¶ä½äº `src-tauri/src/database/migrations.rs`

### API Key å®‰å…¨å­˜å‚¨

ä½¿ç”¨æ“ä½œç³»ç»Ÿå‡­æ®ç®¡ç†å™¨å­˜å‚¨ API Keyï¼Œç¡®ä¿å¯†é’¥å®‰å…¨ï¼š

| æ“ä½œç³»ç»Ÿ | å‡­æ®ç®¡ç†å™¨ |
|---------|-----------|
| **Windows** | Credential Manager |
| **macOS** | Keychain |
| **Linux** | Secret Service (libsecret) |

**å®‰å…¨æªæ–½ï¼š**
- æ•°æ®åº“ä»…ä¿ç•™å¯†é’¥å¼•ç”¨ï¼Œä¸å­˜å‚¨æ˜æ–‡
- ä½¿ç”¨ `keyring` crate è·¨å¹³å°è®¿é—®ç³»ç»Ÿå‡­æ®ç®¡ç†å™¨
- ä½¿ç”¨ `secrecy::SecretString` åŒ…è£…å¯†é’¥ï¼Œé˜²æ­¢æ„å¤–æ—¥å¿—æ³„éœ²
- ç•Œé¢æ˜¾ç¤ºæ©ç åçš„å¯†é’¥ï¼ˆå¦‚ `sk-xxxx1234`ï¼‰

---

## å¼€å‘è¯´æ˜

### å‰ç«¯å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£ 1420ï¼‰
npm run dev

# TypeScript ç±»å‹æ£€æŸ¥
npm run build

# ç”Ÿæˆ TypeScript ç±»å‹ï¼ˆä» Rust ç»“æ„ä½“ï¼‰
cargo run --bin generate_types

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview
```

### Rust åç«¯å¼€å‘

```bash
# è¿›å…¥ Rust ç›®å½•
cd src-tauri

# è¿è¡Œæµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test test_name

# ä»£ç æ£€æŸ¥ï¼ˆä¸æ„å»ºï¼Œå¿«é€ŸéªŒè¯ï¼‰
cargo check

# æ ¼å¼åŒ–ä»£ç 
cargo fmt

# Lint æ£€æŸ¥ï¼ˆæ•è·æ½œåœ¨é—®é¢˜ï¼‰
cargo clippy

# ä»…ç¼–è¯‘å•ä¸ªåŒ…ï¼ˆåŠ é€Ÿå¼€å‘ï¼‰
cargo build -p prism-forge
```

### ç±»å‹ç”Ÿæˆå·¥ä½œæµ

å½“ä½ ä¿®æ”¹äº† Rust ç»“æ„ä½“å¹¶éœ€è¦åŒæ­¥ TypeScript ç±»å‹æ—¶ï¼š

```bash
# 1. åœ¨ Rust ç»“æ„ä½“ä¸Šæ·»åŠ  #[derive(TS)] å±æ€§
# src-tauri/src/database/models.rs
#[derive(TS)]
#[ts(rename_all = "camelCase")]
pub struct ApiProvider {
    pub id: i32,
    pub name: String,
    pub provider_type: ApiProviderType,
}

# 2. åœ¨ src-tauri/src/build_types.rs ä¸­æ³¨å†Œç±»å‹
pub fn export_types() -> Result<()> {
    ApiProvider::export()?;
    // ...

# 3. è¿è¡Œç”Ÿæˆå‘½ä»¤
cargo run --bin generate_types

# 4. å‰ç«¯è‡ªåŠ¨è·å¾— TypeScript ç±»å‹å®šä¹‰
# src/types/generated/ApiProvider.ts
export interface ApiProvider {
    id: number;
    name: string;
    providerType: ApiProviderType;
}

# 5. åœ¨å‰ç«¯ä½¿ç”¨
import { ApiProvider } from '@/types/generated';
```

**å¸¸ç”¨ ts-rs å±æ€§ï¼š**
- `#[ts(rename_all = "camelCase")]` - å­—æ®µåè½¬é©¼å³°å‘½å
- `#[ts(type = "number")]` - è¦†ç›–é»˜è®¤ç±»å‹æ¨æ–­
- `#[ts(export)]` - å¼ºåˆ¶å¯¼å‡ºç±»å‹
- `#[ts(opaque)]` - å°†ç±»å‹è§†ä¸ºä¸é€æ˜ï¼ˆä¸å±•å¼€å†…éƒ¨ç»“æ„ï¼‰

---

## æ¨èå¼€å‘å·¥å…·

- [VS Code](https://code.visualstudio.com/) - ä»£ç ç¼–è¾‘å™¨
- [Tauri VSCode Extension](https://marketplace.visualstudio.com/items?itemName=tauri-apps.tauri-vscode) - Tauri å¼€å‘æ”¯æŒ
- [rust-analyzer](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer) - Rust è¯­è¨€æ”¯æŒ

---

## é¡¹ç›®æ¶æ„

### æ•´ä½“æ¶æ„

é¡¹ç›®é‡‡ç”¨ **Tauri å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼Œå‰ç«¯é€šè¿‡ Tauri Invoke API è°ƒç”¨åç«¯å‘½ä»¤ã€‚åç«¯å®ç°å¤šå‚å•† LLM é€‚é…å™¨æ¨¡å¼ï¼Œé€šè¿‡ç»Ÿä¸€çš„ `LLMService` trait æŠ½è±¡ä¸åŒå‚å•† APIã€‚

### Rust åç«¯ç»“æ„

```
src-tauri/src/
â”œâ”€â”€ main.rs              # Tauri å…¥å£
â”œâ”€â”€ lib.rs               # æ ¸å¿ƒæ¨¡å—æ³¨å†Œå’ŒçŠ¶æ€ç®¡ç†
â”œâ”€â”€ build_types.rs       # ts-rs ç±»å‹ç”Ÿæˆ
â”œâ”€â”€ commands.rs          # Tauri å‘½ä»¤æ¥å£
â”œâ”€â”€ session_parser.rs    # ç»Ÿä¸€ä¼šè¯è§£ææœåŠ¡
â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”œâ”€â”€ database/            # æ•°æ®æŒä¹…åŒ–
â”œâ”€â”€ llm/                 # LLM å®¢æˆ·ç«¯æ ¸å¿ƒ
â”‚   â””â”€â”€ providers/       # å‚å•†é€‚é…å™¨ï¼ˆOpenAIã€Anthropicã€Ollamaã€xAIï¼‰
â”œâ”€â”€ parser/              # JSONL è§£æ
â”œâ”€â”€ filter_config.rs     # æ—¥å¿—è¿‡æ»¤é…ç½®
â””â”€â”€ optimizer/           # æç¤ºè¯ä¼˜åŒ–
```

### React å‰ç«¯ç»“æ„

```
src/
â”œâ”€â”€ main.tsx             # React å…¥å£
â”œâ”€â”€ App.tsx              # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ i18n/                # å›½é™…åŒ–é…ç½®
â”‚   â””â”€â”€ locales/         # ç¿»è¯‘æ–‡ä»¶ {zh,en}/
â”œâ”€â”€ stores/              # Zustand å…¨å±€çŠ¶æ€
â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°åº“
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ types/               # TypeScript ç±»å‹
â”‚   â””â”€â”€ generated/       # ts-rs ç”Ÿæˆçš„ç±»å‹
â”œâ”€â”€ pages/               # é¡µé¢çº§ç»„ä»¶
â””â”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
    â””â”€â”€ ui/              # UI ç»„ä»¶åº“
```

### æ ¸å¿ƒè®¾è®¡æ¨¡å¼

- **é€‚é…å™¨æ¨¡å¼**ï¼š`LLMService` trait æŠ½è±¡å¤šå‚å•† API
- **å·¥å‚æ¨¡å¼**ï¼š`LLMClientManager::create_client_from_provider()`
- **ä»“åº“æ¨¡å¼**ï¼š`ApiProviderRepository` å°è£…æ•°æ®åº“æ“ä½œ
- **å•ä¾‹æ¨¡å¼**ï¼š`LLMClientManager` é€šè¿‡ Tauri State æ³¨å…¥

---

## ä¸ Claude Code çš„å…³ç³»

PrismForge æ˜¯ **Claude Code** çš„é…å¥—å·¥å…·ï¼Œä¸¤è€…ååŒå·¥ä½œï¼š

- **Claude Code**ï¼šAI ç¼–ç¨‹åŠ©æ‰‹ï¼Œæ‰§è¡Œå®é™…çš„å¼€å‘ä»»åŠ¡
- **PrismForge**ï¼šç®¡ç† **Claude Code** ä¼šè¯æ–‡ä»¶ï¼Œä¼˜åŒ–æç¤ºè¯ç”Ÿæˆ

PrismForge ä¸æ›¿ä»£ **Claude Code**ï¼Œè€Œæ˜¯å¢å¼ºä½ çš„ **Claude Code** ä½¿ç”¨ä½“éªŒã€‚

---

## æ›´æ–°æ—¥å¿— (Changelog)

### v1.0.2 - æç¤ºè¯ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ (2026-02-01)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

**æç¤ºè¯ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ**
- âœ… å®Œæ•´çš„ç‰ˆæœ¬æ§åˆ¶ï¼šæ”¯æŒæç¤ºè¯æ¨¡æ¿çš„ç‰ˆæœ¬åŒ–ç®¡ç†
- âœ… ç»„ä»¶åŒ–æ¶æ„ï¼šUserMessageã€MetaPromptã€OutputFormat ç‹¬ç«‹ç®¡ç†
- âœ… å˜æ›´è¿½è¸ªï¼šå­—æ®µçº§ã€ç»„ä»¶çº§çš„è‡ªåŠ¨å˜æ›´è¿½è¸ª
- âœ… ä¸€é”®å›æ»šï¼šå¿«é€Ÿå›æ»šåˆ°ä»»æ„å†å²ç‰ˆæœ¬
- âœ… ç‰ˆæœ¬å¯¹æ¯”ï¼šå¯è§†åŒ–å±•ç¤ºç‰ˆæœ¬é—´å·®å¼‚

#### ğŸ“¦ æ–°å¢åŠŸèƒ½

**æ•°æ®åº“å±‚ï¼ˆRustï¼‰**
- æ–°å¢ `PromptVersionRepository`ã€`PromptComponentRepository`ã€`RollbackRepository`
- æ”¯æŒç‰ˆæœ¬ CRUDã€ç»„ä»¶è§£æã€å˜æ›´è®¡ç®—
- é˜²å¾¡æ€§ç¼–ç¨‹ï¼šå…¨é¢ä½¿ç”¨ `?` å’Œæ˜¾å¼ç±»å‹æ³¨è§£é¿å… panic
- äº‹åŠ¡æ”¯æŒï¼šç¡®ä¿ç‰ˆæœ¬åˆ›å»ºçš„åŸå­æ€§
- ç‰ˆæœ¬åˆ›å»ºæ—¶è‡ªåŠ¨ä» content è§£æå¹¶åˆ›å»ºç»„ä»¶è®°å½•

**å‰ç«¯ UI å±‚ï¼ˆReactï¼‰**
- æç¤ºè¯åº“é¡µé¢ï¼ˆ`PromptsPage`ï¼‰ï¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰æç¤ºè¯æ¨¡æ¿
- ç‰ˆæœ¬ç®¡ç†æŠ½å±‰ï¼ˆ`PromptVersionsDrawer`ï¼‰ï¼šç‰ˆæœ¬åˆ—è¡¨å’Œè¯¦æƒ…
- ç‰ˆæœ¬ç¼–è¾‘å™¨ï¼ˆ`PromptEditDrawer`ï¼‰ï¼šä¸Šä¸‹åŒçª—æ ¼å¸ƒå±€ï¼Œå®æ—¶é¢„è§ˆ
- å˜æ›´å†å²é¢æ¿ï¼ˆ`ChangeHistoryPanel`ï¼‰ï¼šå­—æ®µçº§å˜æ›´è¿½è¸ª
- ç‰ˆæœ¬å¯¹æ¯”é¢æ¿ï¼ˆ`VersionComparePanel`ï¼‰ï¼šå¯è§†åŒ–å·®å¼‚å±•ç¤º
- å›æ»šç¡®è®¤å¯¹è¯æ¡†ï¼ˆ`RollbackDialog`ï¼‰ï¼šå®‰å…¨çš„ç‰ˆæœ¬å›æ»š

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›

**ä»£ç è´¨é‡**
- ä¿®å¤ rusqlite `row.get()` panic é£é™©ï¼ˆä½¿ç”¨æ˜¾å¼ç±»å‹æ³¨è§£ï¼‰
- ä¿®å¤ SQL å‚æ•°ç¼ºå¤±é—®é¢˜ï¼ˆä½¿ç”¨ `rusqlite::params!` å®ï¼‰
- ä¿®å¤æ•°æ®åº“åˆ—ç´¢å¼•ä¸å¯¹é½é—®é¢˜
- ä¿®å¤ ESM æ¨¡å¼ä¸‹ `__dirname` ä¸å¯ç”¨é—®é¢˜ï¼ˆä½¿ç”¨ `import.meta.url`ï¼‰

**ç”¨æˆ·ä½“éªŒ**
- å®æ—¶åˆ·æ–°ç¼–è¾‘åç‰ˆæœ¬åˆ—è¡¨
- ä¼˜åŒ–æŒ‰é’®åˆ†è¾¨åº¦ï¼ˆåŒºåˆ†æ“ä½œç±»å‹ï¼‰
- å®Œæ•´æš—è‰²æ¨¡å¼é€‚é…
- ä¸­è‹±æ–‡åŒè¯­æ”¯æŒï¼ˆæ–°å¢ `prompts.json`ã€`promptVersions.json`ï¼‰

#### ğŸ“Š ç»Ÿè®¡æ•°æ®

- 90 ä¸ªæ–‡ä»¶æ›´æ”¹
- 11,260 è¡Œæ–°å¢ä»£ç 
- 494 è¡Œåˆ é™¤ä»£ç 
- 28 ä¸ªæäº¤è®°å½•

#### ğŸ› Bug ä¿®å¤

- ä¿®å¤ `init_default_prompts` ä¸­ UPDATE è¯­å¥ç¼ºå°‘ template_id å‚æ•°
- ä¿®å¤ `prompt_versions` ä¸­ `row_to_change` åˆ—ç´¢å¼•åç§»é”™è¯¯
- ä¿®å¤ vite/vitest é…ç½®åœ¨ ESM æ¨¡å¼ä¸‹çš„å…¼å®¹æ€§é—®é¢˜

---

## ç›¸å…³é“¾æ¥

- [Claude Code å®˜æ–¹æ–‡æ¡£](https://code.anthropic.com/)
- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/v2/guides/)
- [Anthropic Claude API](https://docs.anthropic.com/)

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

---

## å…³é”®è¯

claude code, claude-code, claude ai, anthropic, session manager, prompt optimizer, prompt engineering, ai assistant, code assistant, tauri, rust, react, typescript
